/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2021 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!(function (l) {
    "use strict";
    l("#sidebarToggle, #sidebarToggleTop").on("click", function (e) {
        l("body").toggleClass("sidebar-toggled"), l(".sidebar").toggleClass("toggled"), l(".sidebar").hasClass("toggled") && l(".sidebar .collapse").collapse("hide");
        if(parseInt(window.getComputedStyle(document.getElementById('accordionSidebar')).width)<110){
            $('#accordionSidebar .nav-item .nav-link span').hide();
            $('#avatar').removeClass("px-5").removeClass("py-3");
            $('#accordionSidebar h6').hide();
            $(".collapse-item").attr('style', 'padding-left: 10px !important;font-size:14px;');
        }else{
            $('#accordionSidebar .nav-item .nav-link span').show();
            $('#accordionSidebar h6').show();
            $('#avatar').addClass("px-5").addClass("py-3");
            $(".collapse-item").attr('style', 'padding-left: 40px !important;font-size:16px;');
        }
    }),
        l(window).resize(function () {

            if(parseInt(window.getComputedStyle(document.getElementById('accordionSidebar')).width)<100){
                $('#accordionSidebar .nav-item .nav-link span').hide();
            }else{
                $('#accordionSidebar .nav-item .nav-link span').show();
            }
            l(window).width() < 768 && l(".sidebar .collapse").collapse("hide"),
                l(window).width() < 480 && !l(".sidebar").hasClass("toggled") && (l("body").addClass("sidebar-toggled"), l(".sidebar").addClass("toggled"), l(".sidebar .collapse").collapse("hide"));
        }),
        l("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel", function (e) {
            var o;
            768 < l(window).width() && ((o = (o = e.originalEvent).wheelDelta || -o.detail), (this.scrollTop += 30 * (o < 0 ? 1 : -1)), e.preventDefault());
        }),
        l(document).on("scroll", function () {
            100 < l(this).scrollTop() ? l(".scroll-to-top").fadeIn() : l(".scroll-to-top").fadeOut();
        }),
        l(document).on("click", "a.scroll-to-top", function (e) {
            var o = l(this);
            l("html, body")
                .stop()
                .animate({ scrollTop: l(o.attr("href")).offset().top }, 1e3, "easeInOutExpo"),
                e.preventDefault();
        });
        $("#pageSize").change(function(){
          $('#search').click();
        });
        //active item menu
                         $('a[href^="' + location.pathname + '"]').addClass( "active-item" );
                         if($('a[href^="' + location.pathname + '"]').hasClass('collapse-item')){
                         $('a[href^="' + location.pathname + '"]').removeClass( "active-item" );
                          $('a[href^="' + location.pathname + '"]').addClass('collapse-active-item');
                          $('a[href^="' + location.pathname + '"]').parent().parent().parent().css("background-color", "transparent");
                           $('a[href^="' + location.pathname + '"]').parent().parent().parent().find('a.nav-link').click();
                         }
})(jQuery);

$(".nav-link").click(function () {
    console.log("nav-link clickfuntion ()")
    var navlinh = document.querySelectorAll('.nav-link');
    navlinh.forEach( e => {
        if(!e.classList.contains('collapsed')){
            e.classList.add('collapsed');
            e.setAttribute("aria-expanded","false");
        }
    })
    var navlinh = document.querySelectorAll('.collapse-inner');
    navlinh.forEach( e => {
        if(e.classList.contains('show')){
            e.classList.remove('show');
        }
    })
});
// Hàm để tự động ẩn phần tử sau một khoảng thời gian
  function hideAfterDelay(elementId, delay) {
    setTimeout(function() {
      var element = document.getElementById(elementId);
      if (element) {
        element.style.display = 'none';
      }
    }, delay);
  }
  // Ẩn phần tử 'successAlert' sau 5 giây
  hideAfterDelay('successAlert', 5000);
  // Ẩn phần tử 'errorAlert' sau 5 giây
  hideAfterDelay('errorAlert', 5000);


/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2021 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

// !function(l){"use strict";l("#sidebarToggle, #sidebarToggleTop").on("click",function(e){l("body").toggleClass("sidebar-toggled"),l(".sidebar").toggleClass("toggled"),l(".sidebar").hasClass("toggled")&&l(".sidebar .collapse").collapse("hide")}),l(window).resize(function(){l(window).width()<768&&l(".sidebar .collapse").collapse("hide"),l(window).width()<480&&!l(".sidebar").hasClass("toggled")&&(l("body").addClass("sidebar-toggled"),l(".sidebar").addClass("toggled"),l(".sidebar .collapse").collapse("hide"))}),l("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(e){var o;768<l(window).width()&&(o=(o=e.originalEvent).wheelDelta||-o.detail,this.scrollTop+=30*(o<0?1:-1),e.preventDefault())}),l(document).on("scroll",function(){100<l(this).scrollTop()?l(".scroll-to-top").fadeIn():l(".scroll-to-top").fadeOut()}),l(document).on("click","a.scroll-to-top",function(e){var o=l(this);l("html, body").stop().animate({scrollTop:l(o.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()})}(jQuery);
